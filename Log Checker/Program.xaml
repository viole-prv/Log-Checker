<controls:MetroWindow
    x:Class="LogChecker.Program"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Width="300"
    Height="230"
    Closing="MetroWindow_Closing"
    Left="150"
    Loaded="MetroWindow_Loaded"
    PreviewKeyDown="MetroWindow_PreviewKeyDown"
    ResizeMode="CanMinimize"
    ShowIconOnTitleBar="False"
    ShowMaxRestoreButton="False"
    Top="150"
    mc:Ignorable="d">
    <controls:MetroWindow.LeftWindowCommands>
        <controls:WindowCommands>
            <Button Click="Type_Click">
                <StackPanel>
                    <Button HorizontalAlignment="Left">
                        <Image Width="16">
                            <Image.Style>
                                <Style TargetType="{x:Type Image}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Type.Value}" Value="Check">
                                            <Setter Property="Source">
                                                <Setter.Value>
                                                    <DrawingImage>
                                                        <DrawingImage.Drawing>
                                                            <DrawingGroup>
                                                                <GeometryDrawing Brush="White" Geometry="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                                                            </DrawingGroup>
                                                        </DrawingImage.Drawing>
                                                    </DrawingImage>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Type.Value}" Value="Sort">
                                            <Setter Property="Source">
                                                <Setter.Value>
                                                    <DrawingImage>
                                                        <DrawingImage.Drawing>
                                                            <DrawingGroup>
                                                                <GeometryDrawing Brush="White" Geometry="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
                                                            </DrawingGroup>
                                                        </DrawingImage.Drawing>
                                                    </DrawingImage>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Type.Value}" Value="History">
                                            <Setter Property="Source">
                                                <Setter.Value>
                                                    <DrawingImage>
                                                        <DrawingImage.Drawing>
                                                            <DrawingGroup>
                                                                <GeometryDrawing Brush="White" Geometry="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />
                                                            </DrawingGroup>
                                                        </DrawingImage.Drawing>
                                                    </DrawingImage>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Type.Value}" Value="Bin">
                                            <Setter Property="Source">
                                                <Setter.Value>
                                                    <DrawingImage>
                                                        <DrawingImage.Drawing>
                                                            <DrawingGroup>
                                                                <GeometryDrawing Brush="White" Geometry="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z" />
                                                            </DrawingGroup>
                                                        </DrawingImage.Drawing>
                                                    </DrawingImage>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                    </Button>
                </StackPanel>
            </Button>
            <Button>
                <StackPanel>
                    <Button HorizontalAlignment="Left">
                        <Button.InputBindings>
                            <MouseBinding Command="{Binding OpenL}" Gesture="LeftClick" />
                            <MouseBinding Command="{Binding OpenR}" Gesture="RightClick" />
                        </Button.InputBindings>
                        <Image Width="18">
                            <Image.Source>
                                <DrawingImage>
                                    <DrawingImage.Drawing>
                                        <DrawingGroup>
                                            <GeometryDrawing Brush="White" Geometry="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z" />
                                        </DrawingGroup>
                                    </DrawingImage.Drawing>
                                </DrawingImage>
                            </Image.Source>
                        </Image>
                    </Button>
                </StackPanel>
            </Button>
        </controls:WindowCommands>
    </controls:MetroWindow.LeftWindowCommands>
    <Grid>
        <StackPanel
            x:Name="Summary"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            DataContext="{Binding Summary}">
            <StackPanel.Resources>
                <Style BasedOn="{StaticResource MahApps.Styles.Button}" TargetType="{x:Type Button}">
                    <Setter Property="Margin" Value="5,5,5,5" />
                    <Setter Property="Width" Value="24" />
                    <Setter Property="Height" Value="31" />
                </Style>
            </StackPanel.Resources>
            <StackPanel.Style>
                <Style TargetType="{x:Type StackPanel}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Show}" Value="True">
                            <Setter Property="Visibility" Value="Visible" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Show}" Value="False">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </StackPanel.Style>
        </StackPanel>
        <TabControl Margin="10,10,10,12" SelectedIndex="0">
            <TabControl.Resources>
                <Style TargetType="{x:Type TabPanel}">
                    <Setter Property="HorizontalAlignment" Value="Center" />
                </Style>
            </TabControl.Resources>
            <TabControl.Style>
                <Style BasedOn="{StaticResource MahApps.Styles.TabControl}" TargetType="{x:Type TabControl}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Summary.Show}" Value="True">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Summary.Show}" Value="False">
                            <Setter Property="Visibility" Value="Visible" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TabControl.Style>
            <TabItem
                controls:HeaderedControlHelper.HeaderFontSize="14"
                controls:HeaderedControlHelper.HeaderFontWeight="Thin"
                Header="HOME">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <StackPanel>
                        <Button
                            Width="90"
                            Height="26"
                            Margin="0,5,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Click="Start_Click">
                            <Button.Style>
                                <Style BasedOn="{StaticResource Button}" TargetType="{x:Type Button}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Directory, Converter={StaticResource StringToBooleanConverter}}" Value="False">
                                            <Setter Property="Content" Value="OPEN" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Directory, Converter={StaticResource StringToBooleanConverter}}" Value="True">
                                            <Setter Property="Content" Value="START" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Type.Value}" Value="Bin">
                                            <Setter Property="Content" Value="START" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="False">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                    <StackPanel DataContext="{Binding ProgressBar}">
                        <StackPanel.Style>
                            <Style TargetType="{x:Type StackPanel}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding .}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Visibility}" Value="True">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Visibility}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </StackPanel.Style>
                        <controls:MetroProgressBar
                            Margin="0,20,0,0"
                            Maximum="{Binding Maximum}"
                            Value="{Binding Value}" />
                        <TextBlock
                            Margin="0,5,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontSize="12"
                            Style="{StaticResource TextBlock}"
                            Text="{Binding Content}" />
                    </StackPanel>
                </StackPanel>
            </TabItem>
            <TabItem
                controls:HeaderedControlHelper.HeaderFontSize="14"
                controls:HeaderedControlHelper.HeaderFontWeight="Thin"
                Header="HELPER">
                <controls:MetroAnimatedSingleRowTabControl controls:TabControlHelper.Transition="Default" TabStripPlacement="Left">
                    <controls:MetroAnimatedSingleRowTabControl.Resources>
                        <Style TargetType="{x:Type TabPanel}">
                            <Setter Property="HorizontalAlignment" Value="Left" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                        </Style>
                    </controls:MetroAnimatedSingleRowTabControl.Resources>
                    <TabItem
                        Height="23"
                        VerticalAlignment="Top"
                        controls:HeaderedControlHelper.HeaderFontSize="14"
                        controls:HeaderedControlHelper.HeaderFontWeight="Thin"
                        DataContext="{Binding Config}"
                        Header="SETUP"
                        IsSelected="False">
                        <ScrollViewer HorizontalAlignment="Right" VerticalAlignment="Center">
                            <StackPanel Margin="0,0,5,0" HorizontalAlignment="Center">
                                <StackPanel>
                                    <Label
                                        Margin="-5,0,0,-5"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Content="LOG DIRECTORY:"
                                        FontSize="9" />
                                    <StackPanel Orientation="Horizontal">
                                        <TextBox
                                            Width="115"
                                            Height="22"
                                            MinHeight="26"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top"
                                            BorderThickness="0,0,0,1"
                                            Text="{Binding Log, UpdateSourceTrigger=PropertyChanged}"
                                            ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"
                                            ToolTipService.IsEnabled="{Binding Text, Converter={StaticResource StringToBooleanConverter}, RelativeSource={RelativeSource Self}}" />
                                        <Button
                                            Width="16"
                                            Height="16"
                                            Margin="9,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                            controls:ControlsHelper.FocusBorderBrush="Transparent"
                                            controls:ControlsHelper.FocusBorderThickness="0"
                                            controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                            Background="Transparent"
                                            BorderBrush="Transparent"
                                            BorderThickness="0"
                                            Click="GetHistory_Click"
                                            Focusable="False"
                                            Style="{StaticResource Icon}">
                                            <Path
                                                Data="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"
                                                Fill="MediumPurple"
                                                Stretch="Fill" />
                                        </Button>
                                        <Button
                                            Width="16"
                                            Height="16"
                                            Margin="10,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                            controls:ControlsHelper.FocusBorderBrush="Transparent"
                                            controls:ControlsHelper.FocusBorderThickness="0"
                                            controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                            Background="Transparent"
                                            BorderBrush="Transparent"
                                            BorderThickness="0"
                                            Click="SetHistory_Click"
                                            Focusable="False"
                                            Style="{StaticResource Icon}">
                                            <Path
                                                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                                Fill="MediumPurple"
                                                Stretch="Fill" />
                                        </Button>
                                    </StackPanel>
                                </StackPanel>
                                <StackPanel>
                                    <Label
                                        Margin="-5,0,0,-5"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Content="WHITE LIST:"
                                        FontSize="9" />
                                    <StackPanel Orientation="Horizontal">
                                        <TextBox
                                            Width="145"
                                            Height="22"
                                            MinHeight="26"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top"
                                            BorderThickness="0,0,0,1"
                                            IsReadOnly="True"
                                            Text="{Binding WhiteListPreview}"
                                            ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"
                                            ToolTipService.IsEnabled="{Binding Text, Converter={StaticResource StringToBooleanConverter}, RelativeSource={RelativeSource Self}}" />
                                        <Button
                                            Width="16"
                                            Height="16"
                                            Margin="5,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                            controls:ControlsHelper.FocusBorderBrush="Transparent"
                                            controls:ControlsHelper.FocusBorderThickness="0"
                                            controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                            Background="Transparent"
                                            BorderBrush="Transparent"
                                            BorderThickness="0"
                                            Click="WhiteList_Click"
                                            Focusable="False"
                                            Style="{StaticResource Icon}"
                                            ToolTip="Настройка списка.">
                                            <Path
                                                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                                Fill="MediumPurple"
                                                Stretch="Fill" />
                                        </Button>
                                    </StackPanel>
                                </StackPanel>
                                <StackPanel>
                                    <Label
                                        Margin="-5,0,0,-5"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Content="ACCOUNT LIST:"
                                        FontSize="9" />
                                    <StackPanel Orientation="Horizontal">
                                        <TextBox
                                            Width="145"
                                            Height="22"
                                            MinHeight="26"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top"
                                            BorderThickness="0,0,0,1"
                                            IsReadOnly="True"
                                            Text="{Binding AccountListPreview}"
                                            ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"
                                            ToolTipService.IsEnabled="{Binding Text, Converter={StaticResource StringToBooleanConverter}, RelativeSource={RelativeSource Self}}" />
                                        <Button
                                            Width="16"
                                            Height="16"
                                            Margin="5,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                            controls:ControlsHelper.FocusBorderBrush="Transparent"
                                            controls:ControlsHelper.FocusBorderThickness="0"
                                            controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                            Background="Transparent"
                                            BorderBrush="Transparent"
                                            BorderThickness="0"
                                            Click="AccountList_Click"
                                            Focusable="False"
                                            Style="{StaticResource Icon}"
                                            ToolTip="Настройка списка.">
                                            <Path
                                                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                                Fill="MediumPurple"
                                                Stretch="Fill" />
                                        </Button>
                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                    <TabItem
                        controls:HeaderedControlHelper.HeaderFontSize="14"
                        controls:HeaderedControlHelper.HeaderFontWeight="Thin"
                        DataContext="{Binding Helper}"
                        Header="SORT"
                        IsSelected="False">
                        <StackPanel
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            DataContext="{Binding Sort}">
                            <Button
                                Width="100"
                                Height="26"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Click="Sort_Click"
                                Content="OPEN"
                                ToolTip="Указать файлы для операции.">
                                <Button.Style>
                                    <Style BasedOn="{StaticResource Button}" TargetType="{x:Type Button}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Type}" Value="Default">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Type}" Value="Enough">
                                                <Setter Property="IsEnabled" Value="True" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Type}" Value="Clipboard">
                                                <Setter Property="IsEnabled" Value="False" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="False">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <StackPanel
                                Margin="0,10,0,0"
                                HorizontalAlignment="Center"
                                Orientation="Horizontal">
                                <StackPanel.Style>
                                    <Style TargetType="{x:Type StackPanel}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="False">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ProgressBar.Visibility}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <Button
                                    Width="20"
                                    Height="20"
                                    Margin="5,0,5,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                    controls:ControlsHelper.FocusBorderBrush="Transparent"
                                    controls:ControlsHelper.FocusBorderThickness="0"
                                    controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                    Command="{Binding Switch}"
                                    Focusable="False">
                                    <Button.Style>
                                        <Style BasedOn="{StaticResource Icon}" TargetType="{x:Type Button}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Type}" Value="File">
                                                    <Setter Property="ToolTipService.IsEnabled" Value="False" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="Single">
                                                    <Setter Property="ToolTip" Value="Один ключ на аккаунт." />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Type}" Value="Clipboard">
                                                    <Setter Property="ToolTip" Value="С буфера обмена." />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                    <Image>
                                        <Image.Style>
                                            <Style TargetType="{x:Type Image}">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Type}" Value="Default">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="Green" Geometry="M6.5 3C4 3 2 5 2 7.5S4 12 6.5 12C8.46 12 10.13 10.75 10.74 9H15V12H18V9H22V6H10.74C10.13 4.25 8.46 3 6.5 3M6.5 6C7.33 6 8 6.67 8 7.5S7.33 9 6.5 9 5 8.33 5 7.5 5.67 6 6.5 6M12 14L10.87 16.64L8 16.89L10.18 18.77L9.5 21.58L12 20.09L14.45 21.58L13.8 18.77L16 16.89L13.11 16.64Z" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Type}" Value="Enough">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="Green" Geometry="M7,14A2,2 0 0,1 5,12A2,2 0 0,1 7,10A2,2 0 0,1 9,12A2,2 0 0,1 7,14M12.65,10C11.83,7.67 9.61,6 7,6A6,6 0 0,0 1,12A6,6 0 0,0 7,18C9.61,18 11.83,16.33 12.65,14H17V18H21V14H23V10H12.65Z" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Type}" Value="Clipboard">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="Green" Geometry="M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Image.Style>
                                    </Image>
                                </Button>
                                <ToggleButton
                                    Width="30"
                                    Height="30"
                                    Margin="5,0,5,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                    controls:ControlsHelper.FocusBorderBrush="Transparent"
                                    controls:ControlsHelper.FocusBorderThickness="0"
                                    controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                    Focusable="False"
                                    IsChecked="{Binding Reverse}">
                                    <Image>
                                        <Image.Style>
                                            <Style TargetType="{x:Type Image}">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Reverse}" Value="True">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="MediumPurple" Geometry="M19 7H22L18 3L14 7H17V21H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Reverse}" Value="False">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="MediumPurple" Geometry="M19 17H22L18 21L14 17H17V3H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Reverse}" Value="{x:Null}">
                                                        <Setter Property="Source">
                                                            <Setter.Value>
                                                                <DrawingImage>
                                                                    <DrawingImage.Drawing>
                                                                        <DrawingGroup>
                                                                            <GeometryDrawing Brush="DarkGray" Geometry="M19 17H22L18 21L14 17H17V3H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z" />
                                                                        </DrawingGroup>
                                                                    </DrawingImage.Drawing>
                                                                </DrawingImage>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Image.Style>
                                    </Image>
                                </ToggleButton>
                                <Button
                                    Width="18"
                                    Height="18"
                                    Margin="5,0,5,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    controls:ControlsHelper.DisabledVisualElementVisibility="Hidden"
                                    controls:ControlsHelper.FocusBorderBrush="Transparent"
                                    controls:ControlsHelper.FocusBorderThickness="0"
                                    controls:ControlsHelper.MouseOverBorderBrush="Transparent"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                    Command="{Binding Button}"
                                    Focusable="False"
                                    Style="{StaticResource Icon}">
                                    <Path
                                        Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                        Fill="MediumPurple"
                                        Stretch="Fill" />
                                </Button>
                            </StackPanel>
                            <StackPanel DataContext="{Binding ProgressBar}">
                                <StackPanel.Style>
                                    <Style TargetType="{x:Type StackPanel}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding .}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Visibility}" Value="True">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Visibility}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <controls:MetroProgressBar
                                    Margin="0,20,0,0"
                                    Maximum="{Binding Maximum}"
                                    Value="{Binding Value}" />
                                <TextBlock
                                    Margin="0,5,0,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontSize="12"
                                    Text="{Binding Content}" />
                            </StackPanel>
                        </StackPanel>
                    </TabItem>
                    <TabItem
                        controls:HeaderedControlHelper.HeaderFontSize="14"
                        controls:HeaderedControlHelper.HeaderFontWeight="Thin"
                        DataContext="{Binding Helper}"
                        Header="UNITE"
                        IsSelected="False">
                        <StackPanel
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            DataContext="{Binding Unite}">
                            <Button
                                Width="100"
                                Height="26"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Click="Unite_Click"
                                Content="OPEN"
                                Style="{StaticResource Button}"
                                ToolTip="Указать файлы для операции." />
                            <Button
                                Width="100"
                                Height="26"
                                Margin="0,5,0,0"
                                Command="{Binding Button}"
                                Content="START"
                                Style="{StaticResource Button}" />
                        </StackPanel>
                    </TabItem>
                </controls:MetroAnimatedSingleRowTabControl>
            </TabItem>
        </TabControl>
        <Grid Background="White" DataContext="{Binding Progress}">
            <Grid.Style>
                <Style TargetType="{x:Type Grid}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding .}" Value="True">
                            <Setter Property="Visibility" Value="Visible" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding .}" Value="False">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <controls:ProgressRing IsActive="{Binding .}" Visibility="{Binding ., Converter={StaticResource BooleanToVisibilityConverter}}">
                <controls:ProgressRing.Style>
                    <Style>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding .}" Value="True">
                                <Setter Property="UIElement.Visibility" Value="Collapsed" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding .}" Value="False">
                                <Setter Property="UIElement.Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </controls:ProgressRing.Style>
            </controls:ProgressRing>
        </Grid>
    </Grid>
</controls:MetroWindow>
